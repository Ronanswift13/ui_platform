{
    "id": "switch_inspection",
    "name": "开关间隔自主巡视插件",
    "version": "1.0.0",
    "description": "分合位状态识别、五防逻辑校验、图像清晰度评价",
    "author": "B组",
    "entrypoint": "plugin.py",
    "plugin_class": "SwitchInspectionPlugin",
    "capabilities": [
        "state_recognition",
        "image_quality"
    ],
    "device_types": [
        "breaker",
        "isolator",
        "grounding"
    ],
    "dependencies": [
        "numpy",
        "opencv-python"
    ],
    "min_platform_version": "1.0.0",
    "config_schema": {
        "type": "object",
        "properties": {
            "model": {
                "type": "object",
                "properties": {
                    "path": {"type": "string"},
                    "device": {"type": "string", "enum": ["cpu", "cuda"]}
                }
            },
            "inference": {
                "type": "object",
                "properties": {
                    "confidence_threshold": {"type": "number", "minimum": 0, "maximum": 1},
                    "nms_threshold": {"type": "number", "minimum": 0, "maximum": 1}
                }
            },
            "state_recognition": {
                "type": "object",
                "properties": {
                    "switch_states": {"type": "array", "items": {"type": "string"}},
                    "logic_validation": {"type": "object"}
                }
            },
            "image_quality": {
                "type": "object",
                "properties": {
                    "enabled": {"type": "boolean"},
                    "min_clarity_score": {"type": "number"}
                }
            }
        }
    }
}
